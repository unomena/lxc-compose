version: '1.0'
containers:
  all-services-debian11-test:
    template: debian-11
    includes:
      - haproxy
      - nginx
      - postgresql
      - python3
      - redis
      - supervisor
    exposed_ports: [80, 443, 5432, 6379, 8080, 8404]
    post_install:
      - echo "All Debian 11 services installed"
    tests:
      internal:
        - haproxy-check:library/services/debian/11/haproxy/tests/test.sh
        - nginx-check:library/services/debian/11/nginx/tests/test.sh
        - postgresql-check:library/services/debian/11/postgresql/tests/test.sh
        - python3-check:library/services/debian/11/python3/tests/python3.sh
        - redis-check:library/services/debian/11/redis/tests/test.sh
        - supervisor-check:library/services/debian/11/supervisor/tests/supervisor.sh